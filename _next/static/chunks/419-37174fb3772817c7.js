(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[419],{91296:function(e,t,n){var r=0/0,a=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,s=parseInt,u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,d=u||c||Function("return this")(),p=Object.prototype.toString,f=Math.max,v=Math.min,m=function(){return d.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function x(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||(n=t)&&"object"==typeof n&&"[object Symbol]"==p.call(t))return r;if(g(e)){var t,n,u="function"==typeof e.valueOf?e.valueOf():e;e=g(u)?u+"":u}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var c=o.test(e);return c||l.test(e)?s(e.slice(2),c?2:8):i.test(e)?r:+e}e.exports=function(e,t,n){var r,a,i,o,l,s,u=0,c=!1,d=!1,p=!0;if("function"!=typeof e)throw TypeError("Expected a function");function h(t){var n=r,i=a;return r=a=void 0,u=t,o=e.apply(i,n)}function b(e){var n=e-s,r=e-u;return void 0===s||n>=t||n<0||d&&r>=i}function j(){var e,n,r,a=m();if(b(a))return y(a);l=setTimeout(j,(e=a-s,n=a-u,r=t-e,d?v(r,i-n):r))}function y(e){return(l=void 0,p&&r)?h(e):(r=a=void 0,o)}function w(){var e,n=m(),i=b(n);if(r=arguments,a=this,s=n,i){if(void 0===l)return u=e=s,l=setTimeout(j,t),c?h(e):o;if(d)return l=setTimeout(j,t),h(s)}return void 0===l&&(l=setTimeout(j,t)),o}return t=x(t)||0,g(n)&&(c=!!n.leading,i=(d="maxWait"in n)?f(x(n.maxWait)||0,t):i,p="trailing"in n?!!n.trailing:p),w.cancel=function(){void 0!==l&&clearTimeout(l),u=0,r=s=a=l=void 0},w.flush=function(){return void 0===l?o:y(m())},w}},3158:function(e,t){"use strict";t.Z={src:"/_next/static/media/icon_back.ca5725ef.svg",height:13,width:8}},5586:function(e,t,n){"use strict";n.d(t,{w:function(){return y},Z:function(){return w}});var r=n(85893),a=n(65982),i=n(67294),o=n(33096),l=n(30489),s=n(47741),u=n(35610),c=n(39239),d={src:"/_next/static/media/icon_chevronDrown.c4c2ebe7.svg",height:9,width:15},p=n(97468),f=n(23732),v=n(91296),m=n.n(v),g=n(92147),x=n(58091),h=n(95862);let b=Number.MAX_VALUE,j=e=>{var t,n;let{tokenName:f,value:v,setValue:m,maxValue:j,isTokenDropdown:y,disabled:w,popUpMessage:k,strictMaxEnable:Z,conversionSection:I,...C}=e;(0,h.Z)();let N=(0,g.S)(f),[E,_]=i.useState(!1),[A,O]=i.useState(!1),S=()=>{let e="Minuscule"===j?"0":j;m(null!=e?e:"0"),Z&&Z(!0)},T=i.useRef(null);return i.useEffect(()=>{f&&T&&null!==T.current&&(T.current.value="0")},[f,T,T.current]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.Z,{setToken:y,isOpen:E,setOpen:_,customModalTitle:"Select token to trade"}),(0,r.jsxs)(o.Z,{marginBlock:"0.4rem",padding:0,display:"flex",flexDirection:"column",children:[(0,r.jsxs)(o.Z,{pos:"relative",m:0,p:0,children:[(0,r.jsx)(l.II,{variant:"lever-primary",ref:T,value:v,onChange(e){"Minuscule"!=e.target.value&&(Z&&Z(!1),!(isNaN(Number(e.target.value))||e.target.value.includes("e"))&&(""!==e.target.value?Number(e.target.value)<=(j?Number(j):b)&&m(e.target.value.replace(" ","").replace("e","")):m("")))},onFocus:()=>O(!0),onBlur:()=>O(!1),paddingRight:j?"4.5rem":"1.2rem",max:j?Number(j):b,min:0,borderRadius:I?"8px 8px 0 0":void 0,disabled:w,placeholder:"0",...C}),(0,r.jsxs)(s.zx,{variant:"unstyled",pos:"absolute",display:"flex",alignItems:"center",left:"1rem",top:"50%",transform:"translate(0, -50%)",zIndex:9,pointerEvents:y||""===f?"auto":"none",onClick(){_(!0)},children:[(0,r.jsx)(c.Z,{tokenDefault:f,textProps:{fontWeight:900},underlyingTokens:null!==(n=null==N?void 0:null===(t=N.data)||void 0===t?void 0:t.underlyingAssets)&&void 0!==n?n:void 0}),y&&(0,r.jsx)(o.Z,{children:(0,r.jsx)(a.Z,{src:d,alt:"icon-down",width:"12px",height:"7.28"})})]}),j&&(0,r.jsx)(s.zx,{variant:"unstyled",pos:"absolute",right:"1rem",top:"50%",transform:"translate(0, -50%)",zIndex:9,color:"lever.accent",fontSize:"14px",letterSpacing:"1px",onClick:S,disabled:w,children:"MAX"})]}),f&&I&&(0,r.jsxs)(o.Z,{as:s.zx,pointerEvents:"none",disabled:w,display:"flex",minH:"20px",paddingBlock:"0.4rem",fontWeight:"normal",justifyContent:"space-between",bgColor:"lever.bg.tradeDark",padding:"0.6rem 1rem",borderRadius:"0 0 8px 8px",zIndex:9,_disabled:{opacity:.5},_hover:{bgColor:"lever.bg.tradeDark"},children:[(0,r.jsx)(o.Z,{display:"flex",gap:"0.4rem"}),(0,r.jsx)(o.Z,{pointerEvents:"fill",onClick:()=>I[1](e=>!e),display:"flex",justifyContent:"center",alignItems:"center",children:I[0]?(0,r.jsx)(x.Z,{layerStyle:"leverTradeSubText",children:I[0]}):(0,r.jsx)(u.$,{width:"15px",height:"15px",color:"white"})})]})]})]})},y=e=>{var t,n;let{tokenName:u,value:v,setValue:g,maxValue:x,isTokenDropdown:h,disabled:j,popUpMessage:y,reset:w}=e,k=i.useRef(null),[Z,I]=i.useState(!1),[C,N]=i.useState(""),E=(0,f.JM)(u),[_,A]=i.useState(!1),O=()=>{k&&k.current&&(k.current.value=x||"0",g(x?"Minuscule"===x?"0":x:"0"),N(x?"Minuscule"===x?"0":x:"0"))},S=e=>{console.log("Fetching with ".concat(e.target.value,"...")),""!==e.target.value&&Number(e.target.value)<b&&!e.target.value.includes("e -")?g(e.target.value):g("0")},T=m()(S,1e3);return i.useEffect(()=>{k&&k.current&&0!==w&&(k.current.value="0")},[w]),i.useEffect(()=>{k&&null!==k.current&&(k.current.value="0")},[u,k,k.current]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.Z,{setToken:h,isOpen:_,setOpen:A,customModalTitle:"Select token to trade"}),(0,r.jsxs)(o.Z,{pos:"relative",margin:0,padding:0,children:[(0,r.jsx)(l.II,{placeholder:"0",value:C,variant:"lever-primary",ref:k,onChange(e){isNaN(Number(e.target.value))||N(e.target.value.replace(" ","").replace("e","")),e.target.value.includes("e")||e.target.value.includes(" ")||"Minuscule"===e.target.value||T(e)},paddingRight:x&&"4.5rem",disabled:j,max:b,min:0,focusBorderColor:"none",onFocus(){I(!0)},onBlur(){I(!1)}}),(0,r.jsxs)(s.zx,{variant:"unstyled",pos:"absolute",display:"flex",alignItems:"center",left:"1rem",top:"50%",transform:"translate(0, -50%)",zIndex:9,pointerEvents:h||""===u?"auto":"none",onClick(){A(!0)},children:[(0,r.jsx)(c.Z,{tokenDefault:u,textProps:{fontWeight:900},underlyingTokens:null!==(n=null==E?void 0:null===(t=E.data)||void 0===t?void 0:t.underlyingAssets)&&void 0!==n?n:void 0}),h&&(0,r.jsx)(o.Z,{children:(0,r.jsx)(a.Z,{src:d,alt:"icon-down",width:"12px",height:"7.28"})})]}),x&&(0,r.jsx)(s.zx,{variant:"unstyled",pos:"absolute",right:"1rem",top:"50%",transform:"translate(0, -50%)",zIndex:9,color:"lever.accent",fontSize:"14px",letterSpacing:"1px",onClick:O,children:"MAX"})]})]})};var w=j},35106:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(85893);n(67294);var a=n(47741),i=n(35610),o=n(85960),l=n(58091),s=n(33096),u=n(93595),c=n.n(u);let d=()=>({className:c().className,style:c().style}),p=(0,o.E)(a.zx),f=e=>{let{isWithdrawStyle:t,children:n,isLoading:a,...o}=e,u=d();return(0,r.jsx)(p,{className:u.className,marginInline:"auto",padding:"0",width:"100%",maxWidth:"264px",minHeight:{base:"48px",lg:"56px"},textTransform:"uppercase",borderRadius:"44px",color:"lever.main",letterSpacing:"1.88px",initial:{background:t?"transparent linear-gradient(90deg, #6A00BC 0%, #FF0088 100%) 0% 0% no-repeat padding-box":"linear-gradient(90deg, #097523 0%, #058F00 50%, #7CC400 100%) 0% 0% no-repeat padding-box"},whileHover:{background:t?"transparent linear-gradient(90deg, #FF0088 0%, #6A00BC 100%) 0% 0% no-repeat padding-box":"transparent linear-gradient(90deg, #058F00 0%, #058F00 50%, #058F00 100%) 0% 0% no-repeat padding-box"},transition:{duration:.3},disabled:Boolean(a),...o,children:(0,r.jsx)(s.Z,{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",lineHeight:"0",children:a?(0,r.jsx)(i.$,{transform:"scale(0.5)"}):(0,r.jsx)(l.Z,{children:n})})})};var v=f},24035:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(85893),a=n(67294),i=n(47741),o=n(33096),l=n(58091),s=n(65982),u=n(3158);let c=e=>{let{children:t,title:n,prevButton:c,tabGroups:d,...p}=e,[f,v]=a.useState(0);return(0,r.jsxs)(o.Z,{width:"inherit",children:[(0,r.jsxs)(o.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",maxWidth:"575px",marginInline:"auto",children:[(0,r.jsx)(o.Z,{children:c&&(0,r.jsx)(i.zx,{variant:"unstyled",color:"lever.accent",onClick(){c()},leftIcon:(0,r.jsx)(s.Z,{src:u.Z,alt:"back-icon"}),textTransform:"uppercase",fontWeight:"normal",letterSpacing:"0.8px",sx:{"& > span":{transform:"translateY(0.07rem)"}},children:"Back"})}),(0,r.jsx)(o.Z,{children:d&&d.map((e,t)=>(0,r.jsx)(i.zx,{variant:t===f?"tab-group-item_active":"tab-group-item",onClick(){v(t),e.action()},children:e.label},"tab-group-".concat(t)))})]}),(0,r.jsxs)(o.Z,{display:"flex",flexDirection:"column",width:"100%",maxWidth:"575px",bg:"lever.bg.gradient",borderRadius:"24px",marginInline:"auto",boxShadow:"0px 6px 8px #00000029",padding:{base:"30px 15px",lg:"30px"},zIndex:99,...p,children:[n&&(0,r.jsx)(o.Z,{children:(0,r.jsx)(l.Z,{variant:"modal-title",children:n})}),t]})]})};var d=c},92147:function(e,t,n){"use strict";n.d(t,{S:function(){return i},z:function(){return o}});var r=n(88767),a=n(34332);let i=e=>{let{config:t}=(0,a.Z)();return(0,r.useQuery)(["tokenConfig",e],()=>{if(!t)throw Error("No config");if(""===e)throw Error("No token");let n=t.getAsset(e);if(!n)throw Error("tokenConfig not found for ".concat(e));return n},{enabled:Boolean(t&&""!==e),refetchOnWindowFocus:!1})},o=e=>{let{config:t}=(0,a.Z)();return(0,r.useQuery)(["tokenConfig",e,JSON.stringify(t)],()=>{if(!t)throw Error("No config");if(void 0===e)throw Error("No token");return t.getReserve(e)},{enabled:Boolean(t&&void 0!==e),refetchOnMount:!0})}},95862:function(e,t,n){"use strict";var r=n(88767),a=n(34332),i=n(46558);let o=()=>{let{account:e}=(0,i.Z)(),{ledger:t,staticLedger:n}=(0,a.Z)();return(0,r.useQuery)(["trade-fee-mantissa",e],async()=>{if(!t&&n)return await n.tradeFeeMantissa();if(t)return await t.tradeFeeMantissa();throw Error("trade fee mantissa query error, ledger nor staticLedger are initiated")},{enabled:Boolean(t||n),staleTime:1/0})};t.Z=o},77197:function(e,t,n){"use strict";n.d(t,{k:function(){return i}});var r=n(64061),a=n.n(r);let i=(e,t,n)=>{if(!e.message.includes("user rejected transaction"))return a().notify(e,e=>e.addMetadata(t,{...n}))}},32631:function(e,t,n){"use strict";function r(e,t,n){let r;let a={depositCollateral:{"collateral not active":"Asset not available","amount is zero":"Deposit amount cannot be 0","collateral will under the minimum collateral balance":"Amount less than required minimum deposit","invalid decimal value":"Deposit amount cannot be 0","user rejected transaction":"User rejected transaction"},withdrawCollateral:{"collateral will under the minimum collateral balance":"Withdrawal would cause balance to fall under required minimum deposit","amount is zero":"Withdrawal amount cannot be 0","collateral is disabled":"Asset not available","withdraw amount exceeds supply":"Amount exceed supply","user rejected transaction":"User rejected transaction","invalid decimal value":"Invalid amount"},approvingTransaction:{"user rejected transaction":"User rejected transaction"},depositReserve:{"reserve mode disabled":"Asset disabled","reserve not active":"Asset not available","amount is zero":"Input amount cannot be 0","user rejected transaction":"User rejected transaction","invalid decimal value":"Invalid amount"},withdrawReserve:{"reserve mode disabled":"Asset disabled","reserve is disabled":"Asset not available","amount is zero":"Input amount cannot be 0","withdrawing amount exceeds reserve available supply":"Insufficient reserves","user rejected transaction":"User rejected transaction","invalid decimal value":"Invalid amount"},repayShort:{"invalid position type":"Invalid position type","amount is zero":"Input amount cannot be 0","need to approve first":"Please approve to proceed","user rejected transaction":"Please approve to proceed","invalid decimal value":"Invalid amount"},withdrawLong:{"withdrawing in non-long position":"Unable to withdraw, insufficient long positions","user rejected transaction":"User rejected transaction","invalid decimal value":"Invalid amount"},trade:{"asset cannot short":"Asset not available to short","asset cannot long":"Asset not available to long",POOL_INACTIVE:"Asset not available",NOT_ENOUGH_USER_LEVERAGE:"Insufficient leverage",BAD_TRADE:"Unable to execute trade, results in bad trade","UniswapV3Feature/UNDERBOUGHT":"Trade would result in less than minimum amount, please try increasing slippage or input amount.","collateral will under the minimum collateral balance":"Amount less than required minimum deposit",NOT_ENOUGH_POOL_BALANCE:"Insufficient reserves"}};for(let[i,o]of Object.entries(a)){for(let[l,s]of Object.entries(a))if(t===l){for(let[u,c]of Object.entries(s))if(e.toLowerCase().includes(u.toLowerCase())){r=c;break}break}void 0===r&&(n?r=n:console.error(r="Error : ".concat(e)))}return console.error(e),r}n.d(t,{e:function(){return r}})},93595:function(e){e.exports={style:{fontFamily:"'__carlito_54bde8', '__carlito_Fallback_54bde8'"},className:"__className_54bde8"}}}]);